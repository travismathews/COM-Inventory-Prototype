Navigation As CanvasComponent:
    ExpandMenu: =false
    Fill: =RGBA(0, 0, 0, 0)
    Height: =640
    MenuAdmin: =true
    MenuBackground: =RGBA(243, 243, 243, 1)
    MenuFontColor: =RGBA(0,0,0, 1)
    MenuFontSize: =18
    MenuIconColor: =RGBA(0,0,0,1)
    MenuIconSize: =60
    MenuItems: |-
        =Table(
            {
                MenuLabel: "Home",
                MenuIcon: Icon.Home,
                MenuScreenNavigate: App.ActiveScreen,
                MenuId: 1,
                SubMenu: Table({
                    MenuLabel: "Currency",
                    MenuIcon: Icon.ComputerDesktop,
                    MenuScreenNavigate: App.ActiveScreen,
                    MenuId: 1,
                    AdminOnly: false
                }),
                AdminOnly: false
            },
            {
                MenuLabel: "Add Asset",
                MenuIcon: Icon.ComputerDesktop,
                MenuScreenNavigate: App.ActiveScreen,
                MenuId: 2,
                SubMenu: Table({
                    MenuLabel: "Sub Menu 2",
                    MenuIcon: Icon.ComputerDesktop,
                    MenuScreenNavigate: App.ActiveScreen,
                    MenuId: 2,
                    AdminOnly: false
                },{
                        MenuLabel: "Sub Menu 3",
                        MenuIcon: Icon.ComputerDesktop,
                        MenuScreenNavigate: App.ActiveScreen,
                        MenuId: 23,
                        AdminOnly: true
                }),
                AdminOnly: false
            },
            {
                MenuLabel: "Menu Item 2",
                MenuIcon: Icon.Calculator,
                MenuScreenNavigate: App.ActiveScreen,
                MenuId: 3,
                SubMenu: Table({
                    MenuLabel: "Sub Menu 2",
                    MenuIcon: Icon.ComputerDesktop,
                    MenuScreenNavigate: App.ActiveScreen,
                    MenuId: 2,
                    AdminOnly: true
                },{
                        MenuLabel: "Sub Menu 3",
                        MenuIcon: Icon.ComputerDesktop,
                        MenuScreenNavigate: App.ActiveScreen,
                        MenuId: 23,
                        AdminOnly: false
                }),
                AdminOnly: true
            }
        )
    MenuLabelHeight: =40
    MenuWidth: =If(showMenu, Navigation.SetMenuWidth, icoHamburger.Width)
    OnReset: =Set(showMenu, Navigation.ExpandMenu)
    SetMenuWidth: =300
    Width: =Navigation.MenuWidth
    X: =0
    Y: =0
    ZIndex: =1

    icoHamburger As icon.Hamburger:
        Color: =Navigation.MenuIconColor
        Height: =Navigation.MenuIconSize
        Icon: =Icon.Hamburger
        OnSelect: =Set(showMenu, !showMenu)
        PaddingBottom: =5
        PaddingLeft: =5
        PaddingRight: =5
        Width: =Navigation.MenuIconSize
        ZIndex: =1

    galMenu As gallery.variableTemplateHeightGallery:
        Fill: =Navigation.MenuBackground
        Height: =Parent.Height
        Items: =Sort(Navigation.MenuItems, MenuId, Ascending)
        Layout: =Layout.Vertical
        TemplateSize: =280
        Visible: =showMenu
        Width: =Parent.Width
        Y: =icoHamburger.Height
        ZIndex: =2

        rectActiveMenu As rectangle:
            Fill: =Navigation.MenuFontColor
            Height: =Navigation.MenuLabelHeight
            OnSelect: =Select(Parent)
            Visible: |-
                =If(ThisItem.AdminOnly = false, ThisItem.MenuScreenNavigate = App.ActiveScreen,
                If(ThisItem.AdminOnly = true && Navigation.MenuAdmin, ThisItem.MenuScreenNavigate = App.ActiveScreen))
            Width: =3
            ZIndex: =1

        icoMenu As icon.Add:
            Color: =Navigation.MenuFontColor
            Height: =Navigation.MenuLabelHeight
            Icon: =ThisItem.MenuIcon
            OnSelect: =Select(Parent)
            PaddingBottom: =5
            PaddingLeft: =5
            PaddingRight: =5
            PaddingTop: =5
            Visible: =If(ThisItem.AdminOnly = false, true,If(ThisItem.AdminOnly = true && Navigation.MenuAdmin, true))
            Width: =62
            X: =5
            ZIndex: =2

        lblMenu As label:
            AutoHeight: =true
            Color: =Navigation.MenuFontColor
            Height: =Navigation.MenuLabelHeight
            OnSelect: =Select(Parent)
            Size: =Navigation.MenuFontSize
            Text: =ThisItem.MenuLabel
            Visible: |
                =If(ThisItem.AdminOnly = false, true,If(ThisItem.AdminOnly = true && Navigation.MenuAdmin, true))
            Width: =Parent.TemplateWidth-icoMenu.Width-rectActiveMenu.Width
            X: =67
            ZIndex: =3

        btnClick As button:
            Color: =Navigation.MenuFontColor
            Fill: =Transparent
            Height: =lblMenu.Height+lblMenu.Y
            HoverFill: =Transparent
            OnSelect: =Navigate(ThisItem.MenuScreenNavigate, ScreenTransition.Cover)
            PressedFill: =Transparent
            Size: =24
            Text: =""
            Visible: =If(ThisItem.AdminOnly = false, true,If(ThisItem.AdminOnly = true && Navigation.MenuAdmin, true))
            Width: =Parent.TemplateWidth
            ZIndex: =4

        galSubMenu As gallery.variableTemplateHeightGallery:
            Fill: =Navigation.MenuBackground
            Height: |+
                =If(ThisItem.AdminOnly = false, CountRows(ThisItem.SubMenu)*Navigation.MenuLabelHeight+15,
                If(ThisItem.AdminOnly = true && Navigation.MenuAdmin, CountRows(ThisItem.SubMenu)*Navigation.MenuLabelHeight+15))
                
            Items: =Sort(ThisItem.SubMenu, MenuId, Ascending)
            Layout: =Layout.Vertical
            TemplateSize: =CountRows(ThisItem.SubMenu)*50  
            Visible: =showMenu
            Width: |
                =Parent.Width-20
            X: =20
            Y: =Navigation.MenuLabelHeight+10
            ZIndex: =5

            rectActiveMenu_1 As rectangle:
                Fill: =Navigation.MenuFontColor
                Height: =Navigation.MenuLabelHeight
                OnSelect: =Select(Parent)
                Visible: |-
                    =If(ThisItem.AdminOnly = false, ThisItem.MenuScreenNavigate = App.ActiveScreen,
                    If(ThisItem.AdminOnly = true && Navigation.MenuAdmin, ThisItem.MenuScreenNavigate = App.ActiveScreen))
                Width: =3
                ZIndex: =1

            icoMenu_1 As icon.Add:
                Color: |
                    =Navigation.MenuFontColor
                Height: =Navigation.MenuLabelHeight
                Icon: =ThisItem.MenuIcon
                OnSelect: =Select(Parent)
                PaddingBottom: =10
                PaddingLeft: =10
                PaddingRight: =10
                PaddingTop: =10
                Visible: =If(ThisItem.AdminOnly = false, true,If(ThisItem.AdminOnly = true && Navigation.MenuAdmin, true))
                Width: =30
                ZIndex: =2

            lblMenu_1 As label:
                AutoHeight: =true
                Color: =Navigation.MenuFontColor
                Height: =Navigation.MenuLabelHeight
                OnSelect: =Select(Parent)
                Size: =18
                Text: =ThisItem.MenuLabel
                Visible: =If(ThisItem.AdminOnly = false, true,If(ThisItem.AdminOnly = true && Navigation.MenuAdmin, true))
                Width: =Parent.TemplateWidth-icoMenu.Width-rectActiveMenu.Width
                X: =30
                ZIndex: =3

            btnClick_1 As button:
                Color: =Navigation.MenuFontColor
                Fill: =Transparent
                Height: =lblMenu_1.Height+lblMenu_1.Y
                HoverFill: =Transparent
                OnSelect: =Navigate(ThisItem.MenuScreenNavigate, ScreenTransition.Cover)
                PressedFill: =Transparent
                Size: =24
                Text: =""
                Visible: =If(ThisItem.AdminOnly = false, true,If(ThisItem.AdminOnly = true && Navigation.MenuAdmin, true))
                Width: =Parent.TemplateWidth
                ZIndex: =4

